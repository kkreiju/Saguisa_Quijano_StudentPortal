@{
	ViewData["Title"] = "Delete Schedule";
}

@model StudentPortal.Models.Entities.Schedules

<h1>Delete Schedule</h1>

@if (Model is null)
{
	@if (ViewBag.Message == "EDP Code Not Found." && ViewBag.Search == true)
	{
		<div class="alert alert-danger mt-2">
			<p class="my-0">@ViewBag.Message</p>
		</div>
	}
	<form action="/Schedules/Delete" method="get" id="search">
		<label class="form-label">EDP Code</label>
		<input type="text" class="form-control shadow-lg" name="edpcode" id="edpcode" required />
		<button onclick="search()" id="searchbutton" class="btn btn-primary mt-2">Search</button>
	</form>
}
else
{
	<form method="post" id="form">
		<div class="mt-3">
			<label class="form-label">EDP Code</label>
			<input type="number" class="form-control shadow-lg" name="edpcode" asp-for="EDPCode" readonly />
		</div>

		<div class="mt-3">
			<label class="form-label">Subject Code</label>
			<input type="text" style="text-transform: uppercase;" class="form-control shadow-lg" name="subjectcode" asp-for="SubjCode" maxlength="15" readonly />
		</div>

		<div class="row">
			<div class="col mt-3">
				<label class="form-label">Time Start</label>
				<input type="time" class="form-control shadow-lg" name="starttime" asp-for="StartTime" readonly />
			</div>

			<div class="col mt-3">
				<label class="form-label">Time End</label>
				<input type="time" class="form-control shadow-lg" name="endtime" asp-for="EndTime" readonly />
			</div>
		</div>

		<div class="mt-3">
			<label class="form-label">Days</label>
			<input type="text" style="text-transform: uppercase;" class="form-control shadow-lg" name="days" asp-for="Days" readonly />
		</div>

		<div class="mt-3">
			<label class="form-label">Room</label>
			<input type="text" style="text-transform: uppercase;" class="form-control shadow-lg" name="room" asp-for="Room" maxlength="5" readonly />
		</div>

		<div class="mt-3">
			<label class="form-label">Max Size</label>
			<input type="number" class="form-control shadow-lg" name="maxsize" asp-for="MaxSize" readonly />
		</div>

		<div class="row">
			<div class="col mt-3">
				<label class="form-label">Course</label>
				<input type="text" style="text-transform: uppercase;" class="form-control shadow-lg" name="course" asp-for="Course" maxlength="5" readonly />
			</div>

			<div class="col mt-3">
				<label class="form-label">Section</label>
				<input type="text" style="text-transform: uppercase;" class="form-control shadow-lg" name="section" asp-for="Section" maxlength="3" readonly />
			</div>
		</div>


		<div class="mt-3">
			<label class="form-label">Curriculum Year</label>
			<input type="text" style="text-transform: uppercase;" class="form-control shadow-lg" name="schoolyear" asp-for="SchoolYear" maxlength="10" readonly />
		</div>

		<div class="mt-3">
			<button type="submit" id="deletebutton" class="btn btn-danger">Delete</button>
		</div>
	</form>
}

<script>
	function search() {
		document.getElementById('search').addEventListener('submit', function (event) {
			var idnumber = document.getElementById('idnumber').value;

			this.action = "/Students/Delete/" + encodeURIComponent(idnumber);
		});
	}
</script>
